"use strict";(self.webpackChunkconnections=self.webpackChunkconnections||[]).push([[291],{1291:(U,c,s)=>{s.r(c),s.d(c,{SignupComponent:()=>I});var a=s(6825),p=s(6814),g=s(1993),i=s(6223),h=s(6007),f=s(5959),w=s(1094),d=s(3539),l=s(672),x=s(3099),r=s(9212),S=s(3386),_=s(6034),E=s(2939),P=s(3481);function v(e,o){1&e&&(r.TgZ(0,"span"),r._uU(1,"*"),r.qZA())}function O(e,o){if(1&e&&(r.TgZ(0,"span",15),r._uU(1),r.qZA()),2&e){const t=r.oxw();r.Q6J("@fade",void 0),r.xp6(1),r.Oqu(" - "+t.emailErrors)}}function Z(e,o){1&e&&(r.TgZ(0,"span"),r._uU(1,"*"),r.qZA())}function y(e,o){if(1&e&&(r.TgZ(0,"span",15),r._uU(1),r.qZA()),2&e){const t=r.oxw();r.Q6J("@fade",void 0),r.xp6(1),r.Oqu(" - "+t.nameErrors)}}function N(e,o){1&e&&(r.TgZ(0,"span"),r._uU(1,"*"),r.qZA())}function T(e,o){if(1&e&&(r.TgZ(0,"span",15),r._uU(1),r.qZA()),2&e){const t=r.oxw();r.Q6J("@fade",void 0),r.xp6(1),r.Oqu(" - "+t.passwordErrors)}}function q(e,o){1&e&&r._UZ(0,"mat-progress-bar",16)}function R(e,o){1&e&&(r.TgZ(0,"span"),r._uU(1,"Sign up"),r.qZA())}function M(e,o){if(1&e&&(r.TgZ(0,"li"),r._uU(1),r.qZA()),2&e){const t=o.$implicit,u=r.oxw(2);r.xp6(1),r.Oqu(null==u.nonRequiredPasswordError?null:u.nonRequiredPasswordError[t])}}function k(e,o){if(1&e&&(r.TgZ(0,"ul",15),r.YNc(1,M,2,1,"li",17),r.qZA()),2&e){const t=r.oxw();r.Q6J("@fade",void 0),r.xp6(1),r.Q6J("ngForOf",t.errorKeys)}}let I=(()=>{class e{constructor(t,u,n,m,A,J){this.destroyRef=t,this.cdr=u,this.apiService=n,this.navigate=m,this.snackBar=A,this.loadingService=J,this.isSubmitted=!1,this.isButtonDisabled=!0,this.isLoading$=this.loadingService.getLoading,this.registrationCredentails=new i.cw({email:new i.NI("",{nonNullable:!0,validators:[i.kI.required,i.kI.email]}),name:new i.NI("",{nonNullable:!0,validators:[i.kI.required,(0,x.O)()]}),password:new i.NI("",{nonNullable:!0,validators:[i.kI.required,e=>{const{value:o}=e;if(!o)return null;const t={};return[{test:d.kk.symbolRequired.test(o),error:l.C4.symbolRequired},{test:d.kk.upperCaseRequired.test(o),error:l.C4.upperCaseRequired},{test:d.kk.numericRequired.test(o),error:l.C4.numericRequired},{test:o.length>8,error:l.C4.lengthRequired}].forEach(n=>{n.test||(t[n.error]=d.VV[n.error])}),Object.keys(t).length?t:null}]})}),this.password=this.registrationCredentails.controls.password,this.email=this.registrationCredentails.controls.email,this.name=this.registrationCredentails.controls.name,this.isShowEmailError=!1,this.isShowNameError=!1,this.isShowPasswordError=!1,this.isShowNonRequiredPasswordErrors=!1}ngOnInit(){this.registrationCredentails.valueChanges.pipe((0,g.sL)(this.destroyRef)).subscribe(()=>{this.refreshErrorsState(),this.isButtonDisabled=!this.registrationCredentails.valid,this.cdr.markForCheck()})}onSubmit(){this.isSubmitted=!0,this.refreshErrorsState(),this.registrationCredentails.valid&&(this.isButtonDisabled=!0,this.signIn(this.registrationCredentails.value))}getShowEmailError(){return null!==this.email.errors&&this.email.errors&&(this.email.dirty||this.isSubmitted)}getEmailErrors(){return null!==this.email.errors&&(this.email.errors[l.TB.invalidEmail]&&d.Dw.email||this.email.errors[l.TB.required]&&d.Dw.required)}getShowNameError(){return null!==this.name.errors&&this.name.errors&&(this.name.dirty||this.isSubmitted)}getNameErrors(){return null!==this.name.errors&&(this.name.errors[l.FT.onlyLettersOrSpaces]&&d.bR.onlyLettersOrSpaces||this.name.errors[l.FT.required]&&d.bR.required||this.name.errors[l.FT.maxLengthName]&&d.bR.maxLengthName)}getShowPasswordError(){return null!==this.password.errors&&this.password.errors&&(this.password.dirty||this.isSubmitted)}getShowNonRequiredPasswordErrors(){return null!==this.password.errors&&this.password.errors&&!this.password.errors[l.uf.required]&&this.password.dirty}getPasswordErrors(){return null!==this.password.errors&&(this.password.errors[l.uf.required]&&d.ly.required||this.password.errors&&d.ly.validatePasswordStrength)}getPasswordErrorKeys(){return this.password.errors?Object.keys(this.password.errors):[]}getNonRequiredPasswordError(){return this.password.errors??void 0}refreshErrorsState(){this.errorKeys=this.getPasswordErrorKeys(),this.isShowEmailError=this.getShowEmailError(),this.emailErrors=this.getEmailErrors(),this.isShowNameError=this.getShowNameError(),this.nameErrors=this.getNameErrors(),this.isShowPasswordError=this.getShowPasswordError(),this.passwordErrors=this.getPasswordErrors(),this.isShowNonRequiredPasswordErrors=this.getShowNonRequiredPasswordErrors(),this.nonRequiredPasswordError=this.getNonRequiredPasswordError()}signIn(t){this.apiService.fetchRegistration(t).pipe((0,g.sL)(this.destroyRef)).subscribe({next:()=>{this.snackBar.open(`\u2714\ufe0f OK! ${t.name} successfully registered! \u2714\ufe0f`,"",{duration:3e3,verticalPosition:"top",panelClass:["ok-snackbar"]}).afterDismissed().pipe((0,g.sL)(this.destroyRef)).subscribe(()=>{this.navigate.navigateToSignin(),this.cdr.markForCheck()}),this.cdr.markForCheck()},error:()=>{this.isButtonDisabled=!1,this.cdr.markForCheck()}})}static#r=this.\u0275fac=function(u){return new(u||e)(r.Y36(r.ktI),r.Y36(r.sBO),r.Y36(S.s),r.Y36(_.o),r.Y36(E.ux),r.Y36(P.b))};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-signup"]],standalone:!0,features:[r.jDz],decls:31,vars:15,consts:[[1,"signup"],[1,"signup__form",3,"formGroup","ngSubmit"],[1,"form__input-label"],["for","email"],[4,"ngIf"],["class","signup__form-error",4,"ngIf"],["formControlName","email","type","email","id","email"],["for","name"],["formControlName","name","type","text","id","name"],["for","password"],["formControlName","password","type","password","id","password"],[3,"disabled"],["mode","buffer",4,"ngIf"],[1,"signup__text"],["routerLink","/signin"],[1,"signup__form-error"],["mode","buffer"],[4,"ngFor","ngForOf"]],template:function(u,n){1&u&&(r.TgZ(0,"div",0),r._UZ(1,"app-logo"),r.TgZ(2,"form",1),r.NdJ("ngSubmit",function(){return n.onSubmit()}),r.TgZ(3,"div",2)(4,"label",3),r._uU(5,"Email address"),r.YNc(6,v,2,0,"span",4),r.qZA(),r.YNc(7,O,2,2,"span",5),r.qZA(),r._UZ(8,"input",6),r.TgZ(9,"div",2)(10,"label",7),r._uU(11,"Name"),r.YNc(12,Z,2,0,"span",4),r.qZA(),r.YNc(13,y,2,2,"span",5),r.qZA(),r._UZ(14,"input",8),r.TgZ(15,"div",2)(16,"label",9),r._uU(17,"Password"),r.YNc(18,N,2,0,"span",4),r.qZA(),r.YNc(19,T,2,2,"span",5),r.qZA(),r._UZ(20,"input",10),r.TgZ(21,"button",11),r.YNc(22,q,1,0,"mat-progress-bar",12),r.ALo(23,"async"),r.YNc(24,R,2,0,"span",4),r.ALo(25,"async"),r.qZA(),r.YNc(26,k,2,2,"ul",5),r.qZA(),r.TgZ(27,"p",13),r._uU(28,"Already have an account? "),r.TgZ(29,"a",14),r._uU(30,"Sign in"),r.qZA()()()),2&u&&(r.xp6(2),r.Q6J("formGroup",n.registrationCredentails),r.xp6(4),r.Q6J("ngIf",!n.isShowEmailError),r.xp6(1),r.Q6J("ngIf",n.isShowEmailError),r.xp6(5),r.Q6J("ngIf",!n.isShowNameError),r.xp6(1),r.Q6J("ngIf",n.isShowNameError),r.xp6(5),r.Q6J("ngIf",!n.isShowPasswordError),r.xp6(1),r.Q6J("ngIf",n.isShowPasswordError),r.xp6(2),r.Q6J("disabled",n.isButtonDisabled),r.xp6(1),r.Q6J("ngIf",r.lcZ(23,11,n.isLoading$)),r.xp6(2),r.Q6J("ngIf",!1===r.lcZ(25,13,n.isLoading$)),r.xp6(2),r.Q6J("ngIf",n.isShowNonRequiredPasswordErrors))},dependencies:[w.R,f.rH,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,p.ez,p.sg,p.O5,p.Ov,h.Cv,h.pW],styles:['[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.signup[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:450px;padding:32px;background-color:#0b131b;border-radius:5px;color:#8d9398;box-shadow:2px 2px 4px #00000040}.signup__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;align-items:center;margin-top:8px}.signup__form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:40px;border:none;padding:10px;color:#fff;font-size:16px;border-radius:3px;background-color:#113b3e;margin:3px 0 8px}.signup__form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.signup__form-error[_ngcontent-%COMP%]{color:#f44336;font-weight:400;padding-left:10px}.signup__form-error[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}.signup[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;padding-left:30px}.signup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:40px;margin-top:20px;border:none;padding:10px;color:#fff;font-size:16px;border-radius:3px;background-color:#0a8f7b;cursor:pointer}.signup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#8d9398;cursor:default}.signup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled:hover{background-color:#8d9398}.signup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0ea790;transition:.3s}.signup__text[_ngcontent-%COMP%]{margin:8px 0 0;font-size:12px;line-height:150%}.signup__text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0a8f7b;position:relative}.signup__text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transition:.3s}.signup__text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;width:100%;height:1px;bottom:-2px;left:0;background-color:#0a8f7b}.form__input-label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:auto;text-transform:uppercase;font-size:12px;font-weight:700}.form__input-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f44336;margin-left:3px}'],data:{animation:[(0,a.X$)("fade",[(0,a.SB)("in",(0,a.oB)({opacity:1})),(0,a.eR)(":enter",[(0,a.oB)({opacity:0}),(0,a.jt)(500)]),(0,a.eR)(":enter",[(0,a.IO)("li",[(0,a.oB)({opacity:0}),(0,a.jt)(300)])]),(0,a.eR)(":leave",(0,a.jt)(500,(0,a.oB)({opacity:0})))])]},changeDetection:0})}return e})()}}]);